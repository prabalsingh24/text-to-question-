# text-to-question


## Installation

For the backend, go to the /backend directory and run `python3 manage.py runserver` the start the django server

For the frontend, go to the /frontend directory and run `yarn start` to run the React App



## Django api

There is one api exposed /textToQuestion which takes in a `POST` request and returns a json response with the
questions and the answers generated by the backend


### An example of an API request is 
```agsl
POST
{
    "text": "LeBron Raymone James Sr. (born December 30, 1984) is an American professional basketball player for the Los Angeles Lakers in the National Basketball Association (NBA)"
}
```

### API response
```agsl
{
    "input_text": "LeBron Raymone James Sr. (born December 30, 1984) is an American professional basketball player for the Los Angeles Lakers in the National Basketball Association (NBA)",
    "questions_and_answers": [
        {
            "question": "What nationality is LeBron Raymone James Sr.?",
            "answer": "American"
        },
        {
            "question": "When was LeBron Raymone James Sr. born?",
            "answer": "December 30, 1984"
        },
        {
            "question": "Who is the name of the American professional basketball player?",
            "answer": "LeBron Raymone James Sr."
        },
        {
            "question": "What is the name of the NBA?",
            "answer": "NBA"
        },
        {
            "question": "What is the name of the NBA team that LeBron James played for?",
            "answer": "the Los Angeles Lakers"
        },
        {
            "question": "What is the name of the NBA?",
            "answer": "the National Basketball Association"
        }
    ]
}
```
<br>

In the backend, I've created a class `TextToQuestionModel`, and I have used the `#TextToQuestionModel#get_questions_answers_from_text` 
method to generate the questions and answers from the inputted text. 

Because loading the ML model takes time, it has to read a 700mb file. I've made this class to be a singleton class, and only one instance of 
it will be present at any time, thus helping us avoid reading that file for every request, and techincally caching the read model. 

The result is obvious - I noticed a significant difference in the time it took to run the very first API request and subsequent requests.


## React frontend app

I am asking user to enter some text in the textarea and when the user clicks the `Generate questions` button the react app 
sends an `HTTP` request to the API as described earlier and gets back the questions and the answers generated by the backend. 

I make sure the react app does not send more than one request to the backend at a time.